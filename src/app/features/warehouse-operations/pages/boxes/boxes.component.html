<div>
    <ng-container *ngIf="isSuser" >
        <p>Super User Account</p>
    </ng-container>
    
    <ng-container *ngIf="!isSuser">
        <app-loading>
            <div class="table-container">
                <div class="tools">
                    <mat-form-field class="tool-item">
                        <mat-label>{{ 'actions.search' | translate }}</mat-label>
                        <input matInput type="text" [(ngModel)]="searchText">
                        @if (searchText) {
                        <button matSuffix mat-icon-button (click)="onSearchClearClicked()">
                            <mat-icon>close</mat-icon>
                        </button>
                        }
                    </mat-form-field>
                    <button mat-fab class="tools-btn tool-item" (click)="onSearchClicked()">
                        <mat-icon class="tools-btn-icon">search</mat-icon>
                    </button>
                    <span class="spacer"></span>
                    <button mat-fab extended class="tools-btn tool-item" (click)="onSyncClicked()">
                        <mat-icon class="tools-btn-icon">sync</mat-icon>
                        {{ 'actions.sync' | translate }}
                    </button>
                </div>
        
                <section class="mat-elevation-z8 table-section" tabindex="0">
                    <table mat-table [dataSource]="tableData" class="table">
                        <!-- Code Column -->
                        <ng-container matColumnDef="code">
                            <th mat-header-cell *matHeaderCellDef> {{ 'table.boxes.code' | translate }} </th>
                            <td mat-cell *matCellDef="let element"> {{ element.code }} </td>
                        </ng-container>
        
                        <!-- Name Column -->
                        <ng-container matColumnDef="name">
                            <th mat-header-cell *matHeaderCellDef> {{ 'table.boxes.name' | translate }} </th>
                            <td mat-cell *matCellDef="let element"> {{ element.name }} </td>
                        </ng-container>
        
                        <!-- Description Column -->
                        <ng-container matColumnDef="description">
                            <th mat-header-cell *matHeaderCellDef> {{ 'table.boxes.description' | translate }} </th>
                            <td mat-cell *matCellDef="let element"> {{ element.description }} </td>
                        </ng-container>
        
                        <!-- Type Column -->
                        <ng-container matColumnDef="type">
                            <th mat-header-cell *matHeaderCellDef> {{ 'table.boxes.type' | translate }} </th>
                            <td mat-cell *matCellDef="let element"> {{ 'table.boxes.' + element.boxType | translate }} </td>
                        </ng-container>
        
                        <!-- Volume Column -->
                        <ng-container matColumnDef="volume">
                            <th mat-header-cell *matHeaderCellDef> {{ 'table.boxes.volume' | translate }} </th>
                            <td mat-cell *matCellDef="let element"> {{ element.volume }} </td>
                        </ng-container>
        
                        <!-- Empty Volume Column -->
                        <ng-container matColumnDef="volume-empty">
                            <th mat-header-cell *matHeaderCellDef> {{ 'table.boxes.empty-volume' | translate }} </th>
                            <td mat-cell *matCellDef="let element"> {{ element.volumeEmpty }} </td>
                        </ng-container>
        
                        <tr mat-header-row *matHeaderRowDef="columnNames; sticky: true"></tr>
                        <tr mat-row *matRowDef="let row; columns: columnNames;"></tr>
                    </table>
                </section>
        
                <mat-paginator [length]="count" [pageSizeOptions]="[20, 50, 100]" (page)="onPageChanged($event)">
                </mat-paginator>
            </div>
        </app-loading>
    </ng-container>    
</div>
